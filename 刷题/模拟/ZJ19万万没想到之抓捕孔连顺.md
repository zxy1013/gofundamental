我叫王大锤，是一名特工。我刚刚接到任务：在字节跳动大街进行埋伏，抓捕恐怖分子孔连顺。和我一起行动的还有另外两名特工，我提议

\1. 我们在字节跳动大街的 N 个建筑中选定 3 个埋伏地点。

\2. 为了相互照应，我们决定相距最远的两名特工间的距离不超过 D 。

请听题：给定 N（可选作为埋伏点的建筑物数）、 D（相距最远的两名特工间的距离的最大值）以及可选建筑的坐标，计算在这次行动中，大锤的小队有多少种埋伏选择。

注意：

\1. 两个特工不能埋伏在同一地点

\2. 三个特工是等价的：即同样的位置组合( A , B , C ) 只算一种埋伏方法，不能因“特工之间互换位置”而重复使用



固定一个人在左窗口，右窗口和左窗口之间距离小于等于D

```python
N,D = map(int, input().split())
# N个建筑物的的位置
nums = list(map(int, input().split()))

res = 0 # 结果个数
left = 0 # 左窗口 固定第一个人在left 移动另外两个人
right = 2 # 右窗口 因为有三个人，所以右边界最小为left+2 三个埋伏点 0 1 2
while left < N-2:
    # 找最大的右窗口 包含右窗口
    while right + 1 < N and nums[right + 1] - nums[left] <= D:
        right += 1
    # 找最大窗口的个数 不包括左窗口
    num = right - left + 1 - 1
    if num >= 2:
        count = num*(num-1)//2 # 计算可能的位置 Cn取2
        res += count
    # 移动左窗口
    left += 1
print(res % 99997867)
```

