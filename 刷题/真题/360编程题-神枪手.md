  小马最近找到了一款打气球的游戏。 

  每一回合都会有 n个气球，每个气球都有对应的分值，第 i个气球的分值为ai。这一回合内，会给小马两发子弹，但是由于小马的枪法不准，一发子弹最多只能打破一个气球，甚至小马可能一个气球都打不中。 

  现给出小马的得分规则： 

  \1. 若小马一只气球都没打中，记小马得0分。 

  \2. 若小马打中了第 i只气球，记小马得ai 分。 

  \3. 若小马打中了第 i只气球和第 j只气球（i<j），记小马得 ai|aj分。 

其中| 代表按位或，按位或的规则如下： 参加运算的两个数，按二进制位进行或运算，只要两个数中的一个为1，结果就为1。 即 0|0=0, 1|0=1, 0|1=1, 1|1=1。例 2|4即 00000010|00000100=00000110=6。现在请你计算所有情况下小马的得分之和。 

```python
while True:
    try:
        n = int(input())
        li = list(map(int,input().split()))
        count = sum(li) # 打中一个的情况
        '''
        对于所有的情况，打中两个某位0 1的情况有四种 00 01 11
        00由于运算后为0 所以不进行计算
        所只进行运算后为1的累加
        01 计算：1的个数*0的个数
        11 计算：C 1的个数取2 
        '''
        # 100000 10^(5) => 10^3*10^2 < 2^10*2^7 => 2^17
        # 计算每一位的和
        for i in range(18):
            temp = 0 # 记录分值中第i位为1的数量
            for c in li:
                if (c >> i) & 1 == 1:
                    temp += 1
            # 第i位全为0 或只有一个为1 
            if temp <= 1:
                count += 2**i*(temp*(n-temp))
            else:
                count += 2**i*(temp*(n-temp)+(temp *(temp -1)) //2)
        print(count)
    except EOFError:
        break
```

