![1638958382876](F:\markdown笔记\Go高级工程师实战\image\1638958382876.png)

**逃逸分析** 了解变量在栈还是堆

![1638958546208](F:\markdown笔记\Go高级工程师实战\image\1638958546208.png)

**benchmark 参数** 可以输出复杂度信息

![1638958624246](F:\markdown笔记\Go高级工程师实战\image\1638958624246.png)

消灭堆分配

![1638958783963](F:\markdown笔记\Go高级工程师实战\image\1638958783963.png)

频繁数据修改的底层数据结构中会进行简单填充

![1638959121546](F:\markdown笔记\Go高级工程师实战\image\1638959121546.png)

![1638959133078](F:\markdown笔记\Go高级工程师实战\image\1638959133078.png)

数组遍历 左边更快

![1638959204763](F:\markdown笔记\Go高级工程师实战\image\1638959204763.png)

**局部性原理**

![1638959241025](F:\markdown笔记\Go高级工程师实战\image\1638959241025.png)

生产环境下调优

![1638959896247](F:\markdown笔记\Go高级工程师实战\image\1638959896247.png)

压测需要关注的指标

![1638959990880](F:\markdown笔记\Go高级工程师实战\image\1638959990880.png)

以及

![1638960058078](F:\markdown笔记\Go高级工程师实战\image\1638960058078.png)

**性能优化方法论**

![1638960184514](F:\markdown笔记\Go高级工程师实战\image\1638960184514.png)

**基本套路**

![1638960224616](F:\markdown笔记\Go高级工程师实战\image\1638960224616.png)

压测工具

![1638963234821](F:\markdown笔记\Go高级工程师实战\image\1638963234821.png)

高频滥用外部命令

![1638963639779](F:\markdown笔记\Go高级工程师实战\image\1638963639779.png)

阻塞导致高延迟，可能会导致死锁

![1638963700481](F:\markdown笔记\Go高级工程师实战\image\1638963700481.png)

**锁瓶颈**

![1638963869589](F:\markdown笔记\Go高级工程师实战\image\1638963869589.png)

![1638963905710](F:\markdown笔记\Go高级工程师实战\image\1638963905710.png)

![1638963939285](F:\markdown笔记\Go高级工程师实战\image\1638963939285.png)

json优化 换库

![1638964102891](F:\markdown笔记\Go高级工程师实战\image\1638964102891.png)

gc优化

![1638964313695](F:\markdown笔记\Go高级工程师实战\image\1638964313695.png)

map中加指针 gc压力大  string 和slice都是指针类型 数组值类型

![1638964449648](F:\markdown笔记\Go高级工程师实战\image\1638964449648.png)

**降低gc频率**

![1638964534227](F:\markdown笔记\Go高级工程师实战\image\1638964534227.png)

goroutine数量太多导致占用内存过高

![1638966566428](F:\markdown笔记\Go高级工程师实战\image\1638966566428.png)

read buffer 占用内存

![1638967022961](F:\markdown笔记\Go高级工程师实战\image\1638967022961.png)

![1638967035727](F:\markdown笔记\Go高级工程师实战\image\1638967035727.png)

**优化手段总结**

![1638967179972](F:\markdown笔记\Go高级工程师实战\image\1638967179972.png)

![1638967314376](F:\markdown笔记\Go高级工程师实战\image\1638967314376.png)

![1638967405351](F:\markdown笔记\Go高级工程师实战\image\1638967405351.png)

**优化模范**

![1638967898306](F:\markdown笔记\Go高级工程师实战\image\1638967898306.png)

结构体复用 map变slice

![1638967960502](F:\markdown笔记\Go高级工程师实战\image\1638967960502.png)

goroutine 内存占用

![1638968058247](F:\markdown笔记\Go高级工程师实战\image\1638968058247.png)

![1638969844649](F:\markdown笔记\Go高级工程师实战\image\1638969844649.png)

